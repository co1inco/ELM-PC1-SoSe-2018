/*
 * shot.c
 *
 * Created: 23.05.2018 09:15:13
 *  Author: Colin
 */ 

#include <avr/io.h>

#include "snakeLib.h"

int16_t posxS;
uint8_t posyS;

uint8_t currentSpriteS;

uint8_t meineExplosion[7][SIZE][SIZE] =
{
	{
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0 },
		{ 0, 0, 1, 0, 3, 0, 3, 0, 1, 0, 0 },
		{ 0, 1, 0, 3, 0, 2, 0, 3, 0, 1, 0 },
		{ 0, 0, 3, 0, 2, 0, 2, 0, 3, 0, 0 },
		{ 0, 1, 0, 2, 0, 4, 0, 2, 0, 1, 0 },
		{ 0, 0, 3, 0, 2, 0, 2, 0, 3, 0, 0 },
		{ 0, 1, 0, 3, 0, 2, 0, 3, 0, 1, 0 },
		{ 0, 0, 1, 0, 3, 0, 3, 0, 1, 0, 0 },
		{ 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }
	},
	{
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0 },
		{ 0, 0, 0, 1, 0, 3, 0, 1, 0, 0, 0 },
		{ 0, 0, 1, 0, 3, 0, 3, 0, 1, 0, 0 },
		{ 0, 1, 0, 3, 0, 2, 0, 3, 0, 1, 0 },
		{ 0, 0, 3, 0, 2, 0, 2, 0, 3, 0, 0 },
		{ 0, 1, 0, 3, 0, 2, 0, 3, 0, 1, 0 },
		{ 0, 0, 1, 0, 3, 0, 3, 0, 1, 0, 0 },
		{ 0, 0, 0, 1, 0, 3, 0, 1, 0, 0, 0 },
		{ 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }
	},
	{
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0 },
		{ 0, 0, 0, 1, 0, 3, 0, 1, 0, 0, 0 },
		{ 0, 0, 1, 0, 3, 0, 3, 0, 1, 0, 0 },
		{ 0, 0, 0, 3, 0, 2, 0, 3, 0, 0, 0 },
		{ 0, 0, 1, 0, 3, 0, 3, 0, 1, 0, 0 },
		{ 0, 0, 0, 1, 0, 3, 0, 1, 0, 0, 0 },
		{ 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }
	},
	{
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0 },
		{ 0, 0, 0, 1, 0, 3, 0, 1, 0, 0, 0 },
		{ 0, 0, 0, 0, 3, 0, 3, 0, 0, 0, 0 },
		{ 0, 0, 0, 1, 0, 3, 0, 1, 0, 0, 0 },
		{ 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }
	},
	{
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0 },
		{ 0, 0, 0, 1, 0, 3, 0, 1, 0, 0, 0 },
		{ 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }
	},
	{
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }
	},
	{
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }
	}
};


void moveS(){
	drawSprite(posxS, posyS, 1, backgroundSprite);
	
	posxS = posxS - SIZE;
		
	drawSprite(posxS, posyS, 2, meineExplosion[currentSpriteS]);
	
}

void initS(uint8_t posY){
	posxS = DISPWIDTH-20;
	posyS = posY;
}

void explosion(){
	if (currentSpriteS > 0)
		currentSpriteS --;
	drawSprite(posxS, posyS, 1, backgroundSprite);
	meineExplosion[currentSpriteS]
}

uint8_t collisionDetection(uint8_t posYB, uint8_t posYS_t){
	drawSprite(posxS, posyS, 1, backgroundSprite);
	
	if (posYS_t >= posYB && posYS_t <= posYB + SIZE)
		return 1;
	return 0;
}

uint8_t getxS(){
	return posxS;
}

uint8_t getyS(){
	return posyS;
}
