/*
 * hero.c
 *
 * Created: 23.05.2018 09:15:01
 *  Author: Colin
 */ 

#include "snakeLib.h"

#include <avr/io.h>

uint8_t posxH;
int16_t posyH;

uint8_t currentSpriteH = 0;

uint8_t meinHeld[4][SIZE][SIZE] =
{
	
{
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 3, 3, 0, 0, 0, 1, 1, 1 },
	{ 0, 0, 2, 2, 2, 2, 2, 2, 1, 0, 0 },
	{ 0, 2, 0, 2, 2, 2, 0, 0, 0, 0, 0 },
	{ 2, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 4, 4, 4, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 4, 0, 0, 4, 0, 0, 0, 0 },
	{ 0, 0, 0, 4, 0, 0, 4, 0, 0, 0, 0 }
},

{
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 3, 3, 0, 0, 0, 1, 1, 1 },
	{ 0, 0, 2, 2, 2, 2, 2, 2, 1, 0, 0 },
	{ 0, 2, 0, 2, 2, 2, 0, 0, 0, 0, 0 },
	{ 2, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 4, 4, 4, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 4, 0, 0, 4, 0, 0, 0, 0 },
	{ 0, 0, 4, 0, 0, 4, 0, 0, 0, 0, 0 }
},

{
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 3, 3, 0, 0, 0, 1, 1, 1 },
	{ 0, 0, 2, 2, 2, 2, 2, 2, 1, 0, 0 },
	{ 0, 2, 0, 2, 2, 2, 0, 0, 0, 0, 0 },
	{ 2, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 4, 4, 4, 0, 0, 0, 0, 0 },
	{ 0, 0, 4, 0, 0, 4, 0, 0, 0, 0, 0 },
	{ 0, 0, 4, 0, 0, 4, 0, 0, 0, 0, 0 }
},

{
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 3, 3, 0, 0, 0, 1, 1, 1 },
	{ 0, 0, 2, 2, 2, 2, 2, 2, 1, 0, 0 },
	{ 0, 2, 0, 2, 2, 2, 0, 0, 0, 0, 0 },
	{ 2, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 4, 4, 4, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 4, 0, 0, 4, 0, 0, 0, 0 },
	{ 0, 0, 4, 0, 0, 4, 0, 0, 0, 0, 0 }
}
};

void moveH(int8_t direction){
	drawSprite(posxH, posyH, 1, backgroundSprite);
	
	posyH = posyH + SIZE * direction;
	if ((posyH > DISPHEIGHT) || posyH < -1)
		posyH = posyH - SIZE * direction;
		
	drawSprite(posxH, posyH, 2, meinHeld[currentSpriteH]);
	
}

void initH(){
	posxH = DISPWIDTH-20;
	posyH = DISPHEIGHT/2;
}

void changeSpriteH(){
	if (currentSpriteH == 3) 
		currentSpriteH = 0;
	else
		currentSpriteH += 1;
//	drawSprite(posxH, posyH, 1, backgroundSprite);
	drawSprite(posxH, posyH, 2, meinHeld[currentSpriteH]);
}

uint8_t getyH(){
	return posyH;
}